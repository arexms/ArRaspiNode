sudo: required
dist: precise
language: cpp

cache:
  apt: true
  directories:
  - $HOME/googletest

matrix:
  include:
    - compiler: gcc
      addons:
        apt:
          sources:
            - ubuntu-toolchain-r-test
          packages:
            - g++-5
      env:
        - COMPILER=g++-5
        - CXX=g++-5
        - CC=gcc-5
      before_script:
        - export CXX=g++-5
    - compiler: clang
      addons:
        apt:
          sources:
            - ubuntu-toolchain-r-test
            - llvm-toolchain-precise-3.8
          packages:
            - clang-3.8
      env:
        - COMPILER=clang++-3.8
        - CXX=clang++-3.8
        - CC=clang-3.8
      before_script:
        - export CXX=clang++-3.8

script:
- ( cd build && cmake -DCMAKE_CXX_COMPILER=$COMPILER ../ && make VERBOSE=yes && make runTests && cd .. )
  